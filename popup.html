<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKU IAAA 自动登录设置</title>
    <script type="text/javascript" src="crypto-utils.js"></script>
    <script type="text/javascript" src="popup.js"></script>
    <link href="Toggle-Switch.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet"> 
</head>

<body style="width: 250px; padding: 4%; background-color: #EEEEEE;"> 
    <h4 style="margin-left: 3px; color: #333; font-weight: bold;">PKU IAAA 自动登录</h4>

    <table style="width: 100%; margin-bottom: 10px;">
        <tbody>
            <tr>
                <td style="width: 30%; padding: 5px 0; font-weight: bold;">用户名:</td>
                <td style="width: 70%;">
                    <input class="form-control" 
                           style="height: 25px; margin: 0 2% 2px 2%; width: 95%;" 
                           id="username" 
                           type="text" 
                           name="uname" 
                           placeholder="请输入学号"
                           autocomplete="username">
                </td>
            </tr>
            <tr>
                <td style="width: 30%; padding: 5px 0; font-weight: bold;">密码:</td>
                <td style="width: 70%;">
                    <div style="position: relative; width: 95%; margin: 2px 2% 0 2%;">
                        <input class="form-control" 
                               style="height: 25px; width: 100%;" 
                               id="passwd" 
                               type="password" 
                               name="pass" 
                               placeholder="请输入密码"
                               autocomplete="current-password">
                        <span id="togglePassword" 
                              style="position: absolute; right: 5px; top: 3px; cursor: pointer; color: #666; font-size: 14px; user-select: none; line-height: 1; display: inline-flex; align-items: center;"
                              role="button"
                              aria-label="显示密码"
                              title="显示密码"
                              tabindex="0">
                            <!-- 眼睛：显示密码 -->
                            <svg id="iconEye" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <!-- 斜杠眼睛：隐藏密码 -->
                            <svg id="iconEyeSlash" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="display: none;">
                                <path d="M1 12s4-7 11-7c3.5 0 6.5 1.8 8.5 3.6"></path>
                                <path d="M23 12s-4 7-11 7c-3.5 0-6.5-1.8-8.5-3.6"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M3 3l18 18"></path>
                            </svg>
                        </span>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    
    <div id="buttonGroup" style="overflow: hidden; margin: 12px 8% 12px 7%; width: 85%;">
        <div style="width: 47%; float: left; overflow: hidden; margin-right: 3%;"> 
            <input id="clickme_save" 
                   class="btn w-100 btn-primary" 
                   type="button" 
                   value="保存" 
                   title="保存用户名和密码并启用自动登录">
        </div> 
        <div style="margin-left: 3%; width: 47%; float: left; overflow: hidden;"> 
            <input id="clickme_clear" 
                   class="btn w-100 btn-warning"  
                   type="button" 
                   value="清除" 
                   title="清除已保存的用户名和密码">
        </div> 
    </div>

    <div id="autoLoginToggle" style="overflow: hidden; margin: 2%;">
        <div style="height: 28px; padding: 4px; width: 52%; float: left; overflow: hidden;"> 
            <p style="text-align: right; margin: 0px; font-weight: bold;">自动登录:</p>
        </div> 
        <div style="vertical-align: middle; margin-left: 3%; width: 42%; float: left; overflow: hidden;"> 
            <label class="switch" id="autoLoginSwitch">
                <input id="cb" type="checkbox" title="开启/关闭自动登录功能">
                <span class="slider round"></span>
            </label>
        </div> 
    </div>

    <div id="result" style="margin: 10px 0; padding: 8px; border-radius: 4px; font-size: 12px; text-align: center;"></div>

    <div style="margin-top: 15px; text-align: center; font-size: 11px;">
        <a target="_blank" 
           href="https://github.com/cliia/PKU-IAAA-AUTO-LOGIN/blob/master/README.md" 
           style="color: #337ab7; text-decoration: none;">
            使用说明和帮助
        </a>
        <p style="margin: 8px 0 0 0; color: #666;">© PKU IAAA 2025 (V2.0)</p>
    </div>
</body>
</html>
